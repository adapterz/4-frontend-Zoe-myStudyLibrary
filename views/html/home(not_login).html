<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="/data/constant.js"></script>
    <script src="/data/user.js" type="text/javascript"></script>
    <script src="/data/board.js" type="text/javascript"></script>
    <script src="/data/wise_saying.js" type="text/javascript"></script>
    <title>myStudyLibrary í™ˆí˜ì´ì§€</title>
    <style>
      @import url("/views/css/reset.css");
      @import url("/views/css/common.css");
      @import url("/views/css/home.css");
      /* ê¸€ì”¨ì²´ */
      @import url("https://fonts.googleapis.com/css2?family=Grape+Nuts&family=Gugi&family=Lobster&family=Noto+Sans+KR:wght@300&family=Noto+Serif+KR&family=Poor+Story&display=swap");
    </style>
  </head>
  <body>
    <!-- ë§¨ ìœ„ì— ë©”ë‰´ë°” -->
    <nav class="gmb">
      <!-- ë¡œê³  -->
      <a href="/">
        <div class="gmb__logo">
          <img class="gmb__logo--img" src="/views/img/logo.png" alt="ì„œë¹„ìŠ¤ ë¡œê³ ì…ë‹ˆë‹¤." />
          myStudyLibrary
        </div>
      </a>
      <!-- ë©”ë‰´ -->
      <ul class="gmb__menu">
        <li><a href="">ì£¼ë³€ë„ì„œê´€</a></li>
        <li><a href="">ììœ ê²Œì‹œíŒ</a></li>
        <li><a href="">ë‚´ê°€ì‘ì„±í•œê¸€</a></li>
      </ul>
    </nav>
    <main class="home">
      <!-- ë°°ê²½ì‚¬ì§„ -->
      <section class="home__card">
        <img class="home__card--img" src="/views/img/home.png" alt="í™ˆí˜ì´ì§€ ë©”ì¸ ë°°ê²½í™”ë©´ì…ë‹ˆë‹¤." />
      </section>
      <!-- ë¡œê·¸ì¸, íšŒì›ê°€ì… -->
      <section class="home__user--notLogined">
        <button type="button" class="button__login" onclick="location.href='/user/login'">ë¡œê·¸ì¸</button>
        <button type="button" class="button__signup" onclick="location.href='/user/sign-up/guide'">íšŒì›ê°€ì…</button>
      </section>
      <!-- ììœ ê²Œì‹œíŒ-ìµœê·¼ê²Œì‹œê¸€ -->
      <article class="home__board">
        <p class="home__category">ğŸ“‹ ììœ ê²Œì‹œíŒ - ìµœì‹ ê¸€</p>
        <nav>
          <li>
            <a href=""
              ><p class="home__board--title">ê¸€ì„ ì‘ì„±í•´ì£¼ì„¸ìš”!</p>
              <p class="home__board--nickname">ê¸€ì´ ì‘ì„±ë˜ì§€ ì•Šì•˜ì–´ìš” :)</p></a
            >
          </li>
          <li>
            <a href=""
              ><p class="home__board--title">ê¸€ì„ ì‘ì„±í•´ì£¼ì„¸ìš”!</p>
              <p class="home__board--nickname">ê¸€ì´ ì‘ì„±ë˜ì§€ ì•Šì•˜ì–´ìš” :)</p></a
            >
          </li>
          <li>
            <a href=""
              ><p class="home__board--title">ê¸€ì„ ì‘ì„±í•´ì£¼ì„¸ìš”!</p>
              <p class="home__board--nickname">ê¸€ì´ ì‘ì„±ë˜ì§€ ì•Šì•˜ì–´ìš” :)</p></a
            >
          </li>
          <li>
            <a href=""
              ><p class="home__board--title">ê¸€ì„ ì‘ì„±í•´ì£¼ì„¸ìš”!</p>
              <p class="home__board--nickname">ê¸€ì´ ì‘ì„±ë˜ì§€ ì•Šì•˜ì–´ìš” :)</p></a
            >
          </li>
          <li>
            <a href=""
              ><p class="home__board--title">ê¸€ì„ ì‘ì„±í•´ì£¼ì„¸ìš”!</p>
              <p class="home__board--nickname">ê¸€ì´ ì‘ì„±ë˜ì§€ ì•Šì•˜ì–´ìš” :)</p></a
            >
          </li>
        </nav>
      </article>
      <!-- ë™ê¸°ë¶€ì—¬ìš© ëª…ì–¸ -->
      <article class="home__wiseSaying">
        <nav>
          <p class="home__category">ğŸ’ª ë™ê¸°ë¶€ì—¬</p>
          <li class="home__wiseSaying--content">
            ëª…ì–¸ì…ë‹ˆë‹¤ëª…ì–¸ì…ë‹ˆë‹¤ëª…ì–¸ì…ë‹ˆë‹¤ëª…ì–¸ì…ë‹ˆë‹¤ëª…ì–¸ì…ë‹ˆë‹¤ëª…ì–¸ì…ë‹ˆë‹¤ëª…ì–¸ì…ë‹ˆë‹¤ëª…ì–¸ì…ë‹ˆë‹¤ëª…ì–¸ì…ë‹ˆë‹¤ëª…ì–¸ì…ë‹ˆë‹¤ëª…ì–¸ì…ë‹ˆë‹¤ëª…ì–¸ì…ë‹ˆë‹¤ëª…ì–¸ì…ë‹ˆë‹¤ëª…ì–¸ì…ë‹ˆë‹¤ëª…ì–¸ì…ë‹ˆë‹¤ëª…ì–¸ì…ë‹ˆë‹¤
          </li>
          <li class="home__wiseSaying--celebrity">-Zoe-</li>
        </nav>
      </article>
    </main>
    <!-- footer -->
    <footer class="footer__serviceInfo">
      (ì£¼) myStudyLibrary
      <br />
      <pre> ëŒ€í‘œ: ê¹€ì˜ˆì§€</pre>
      <br />
    </footer>
    <script>
      // ë¡œê·¸ì¸ ì²´í¬ í•„ìš”(ìµœì´ˆ í•œë²ˆ ì²´í¬)
      async function checkLogin() {
        const result = await getUserInfo();
        // ì´ë¯¸ ë¡œê·¸ì¸ í–ˆì„ ë•Œ ë‹¤ë¥¸í˜ì´ì§€ë¡œ ì´ë™
        if (result.state !== LOGIN_REQUIRED) {
          location.href = "/authorized";
        }
      }
      checkLogin();

      // ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
      async function page() {
        // ìµœê·¼ ê²Œì‹œíŒ ì •ë³´
        const boardResult = await getRecentBoard();
        // ìµœê·¼ ê²Œì‹œíŒ ì •ë³´ íŒŒì‹±
        for (let num in boardResult) {
          document.getElementsByClassName("home__board--title")[num].innerHTML = `${boardResult[num].postTitle}`;
          document.getElementsByClassName("home__board--nickname")[
            num
            ].innerHTML = `ì‘ì„±ì: ${boardResult[num].nickname}`;
        }
        // ëª…ì–¸ ì •ë³´
        const wiseSayingResult = await getWiseSaying();
        // ëª…ì–¸ ì •ë³´ íŒŒì‹±
        document.getElementsByClassName("home__wiseSaying--content")[0].innerHTML = wiseSayingResult.wiseSayingContent;
        document.getElementsByClassName("home__wiseSaying--celebrity")[0].innerHTML = wiseSayingResult.celebrity;
      }
      page();
    </script>
  </body>
</html>
