<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>myStudyLibrary ììœ ê²Œì‹œíŒ</title>
    <style>
      @import url("/views/css/reset.css");
      @import url("/views/css/common.css");
      @import url("/views/css/free_board.css");
      @import url("/views/css/free_board_write.css");
      /* ê¸€ì”¨ì²´ */
      @import url("https://fonts.googleapis.com/css2?family=Grape+Nuts&family=Gugi&family=Lobster&family=Noto+Sans+KR:wght@300&family=Noto+Serif+KR&family=Poor+Story&display=swap");
    </style>
  </head>
  <body>
    <!-- gmb -->
    <header>
      <script src="/views/js/header.js"></script>
    </header>
    <article class="freeBoard">
      <p class="freeBoard__title">ğŸ“‹ ììœ ê²Œì‹œíŒ - ê¸€ì‘ì„±</p>
      <form action="" class="container__write" method="post" onsubmit="return false">
        <input
          type="text"
          placeholder="ê¸€ ì œëª©"
          class="container__write--title"
          name="postTitle"
          required
          minlength="2"
          maxlength="50"
          oninput="checkTitleLength(this)"
        />
        <span class="container__title--length">(0/50)</span>
        <textarea
          placeholder="ê¸€ ë‚´ìš©"
          class="container__write--content"
          name="postContent"
          required
          minlength="2"
          maxlength="5000"
          oninput="checkContentLength(this)"
        ></textarea>
        <span class="container__content--length">(0/5000)</span>
        <input type="text" placeholder="# íƒœê·¸(ìµœëŒ€ 5ê°œ)" class="container__write--tag" name="tags" />
        <input type="submit" value="í™•ì¸" class="container__search--submit" />
      </form>
    </article>

    <!-- footer -->
    <footer class="footer__serviceInfo">
      <script src="/views/js/footer.js"></script>
    </footer>

    <!-- sweetAlert2 -->
    <script src="/views/js/sweetalert2.js" type="text/javascript"></script>
    <script src="/views/js/custom.js" type="text/javascript"></script>
    <!--fetch-->
    <script src="/customs/constant.js" type="text/javascript"></script>
    <script src="/models/board.js" type="text/javascript"></script>
    <script>
      // ì œëª© ê¸€ììˆ˜ ì²´í¬
      async function checkTitleLength(titleElement) {
        const length = titleElement.value.length;
        document.getElementsByClassName("container__title--length")[0].innerHTML = `(${length}/50)`;
        if (length > 50) {
          const substring = titleElement.value.substring(0, 49);
          console.log(substring);
          titleElement.value = substring;
          const length = titleElement.value.length;
          document.getElementsByClassName("container__title--length")[0].innerHTML = `(${length}/50)`;
          await sweetAlert(WARNING,"ê¸€ììˆ˜ ì´ˆê³¼","ì œëª©ì€ 50ì ê¹Œì§€ë§Œ ì…ë ¥ê°€ëŠ¥í•©ë‹ˆë‹¤.");
        }
      }
// ë‚´ìš© ê¸€ììˆ˜ ì²´í¬
      async function checkContentLength(contentElement) {
        const length = contentElement.value.length;
        document.getElementsByClassName("container__content--length")[0].innerHTML = `(${length}/5000)`;
        if (length >= 5000) {
          const substring = contentElement.value.substring(0, 4998);
          contentElement.value = substring;
          const length = contentElement.value.length;
          document.getElementsByClassName("container__content--length")[0].innerHTML = `(${length}/5000)`;
          await sweetAlert(WARNING,"ê¸€ììˆ˜ ì´ˆê³¼","ë‚´ìš©ì€ 5000ì ê¹Œì§€ë§Œ ì…ë ¥ê°€ëŠ¥í•©ë‹ˆë‹¤.");
        }
      }
    </script>
  </body>
</html>
